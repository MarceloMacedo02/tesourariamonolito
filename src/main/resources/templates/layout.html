<!DOCTYPE html>
<html
  lang="pt-br"
  xmlns:th="http://www.thymeleaf.org"
  th:fragment="layout(titulo, content, pageScripts, pageStyles)"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=0"
    />
    <meta name="description" content="Sistema de Gestão de Tesouraria" />
    <title th:text="${titulo}">Gestão de Tesouraria</title>

    <!-- Favicon -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      th:href="@{/assets/img/favicon.png}"
    />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}" />
    <!-- Fontawesome CSS -->
    <link
      rel="stylesheet"
      th:href="@{/assets/plugins/fontawesome/css/fontawesome.min.css}"
    />
    <link
      rel="stylesheet"
      th:href="@{/assets/plugins/fontawesome/css/all.min.css}"
    />
    <!-- Datatable CSS -->
    <link
      rel="stylesheet"
      th:href="@{/assets/css/dataTables.bootstrap5.min.css}"
    />
    <!-- Datetimepicker CSS -->
    <link
      rel="stylesheet"
      th:href="@{/assets/css/bootstrap-datetimepicker.min.css}"
    />
    <!-- Main CSS -->
    <link rel="stylesheet" th:href="@{/assets/css/style.css}" />

    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>

    <!-- Scripts de página específicos -->
    <th:block th:if="${pageStyles != null and pageStyles != ''}">
      <th:block th:replace="${pageStyles}"></th:block>
    </th:block>
  </head>

  <body>
    <div class="main-wrapper">
      <!-- Inclui o fragmento do Header -->
      <div th:replace="~{fragments/header :: header}"></div>

      <!-- Inclui o fragmento da Sidebar -->
      <div th:replace="~{fragments/sidebar :: sidebar}"></div>

      <!-- Conteúdo da Página Específica -->
      <div class="page-wrapper">
        <div class="content" th:insert="${content}">
          <!-- O conteúdo de cada página será inserido aqui -->
        </div>
        <!-- Inclui o fragmento do Footer -->
        <div th:replace="~{fragments/footer :: footer}"></div>
      </div>
    </div>

    <!-- jQuery -->
    <script th:src="@{/assets/js/jquery-3.7.1.min.js}"></script>
    <!-- Bootstrap Core JS -->
    <script th:src="@{/assets/js/bootstrap.bundle.min.js}"></script>
    <!-- Feather Icon JS -->
    <script th:src="@{/assets/js/feather.min.js}"></script>
    <!-- Slimscroll JS -->
    <script th:src="@{/assets/js/jquery.slimscroll.min.js}"></script>

    <!-- Datetimepicker JS -->
    <script th:src="@{/assets/js/moment.min.js}"></script>
    <script th:src="@{/assets/js/bootstrap-datetimepicker.min.js}"></script>

    <!-- Datatable JS -->
    <script th:src="@{/assets/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/assets/js/dataTables.bootstrap5.min.js}"></script>
    <!-- Custom JS -->
    <script th:src="@{/assets/js/script.js}"></script>
    <!-- Sweetalert 2 para confirmação de exclusão -->
    <script
      th:src="@{/assets/plugins/sweetalert/sweetalert2.all.min.js}"
    ></script>
    <script th:src="@{/assets/js/jquery.maskMoney.min.js}"></script>

    <!-- Bloco para scripts específicos da página -->
    <th:block th:if="${pageScripts != null and pageScripts != ''}">
      <th:block th:replace="${pageScripts}"></th:block>
    </th:block>
    <!-- Toasts de feedback para o usuário -->
    <div
      aria-live="polite"
      aria-atomic="true"
      class="position-fixed top-0 end-0 p-3"
      style="z-index: 1080"
    >
      <div
        th:if="${not #strings.isEmpty(success)}"
        class="toast align-items-center text-bg-success border-0 show"
        role="alert"
      >
        <div class="d-flex">
          <div class="toast-body">
            <i class="feather-check-circle"></i>
            <span th:text="${success}">Sucesso!</span>
          </div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
      <div
        th:if="${not #strings.isEmpty(error)}"
        class="toast align-items-center text-bg-danger border-0 show"
        role="alert"
      >
        <div class="d-flex">
          <div class="toast-body">
            <i class="feather-alert-octagon"></i>
            <span th:text="${error}">Erro!</span>
          </div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
      <div
        th:if="${not #strings.isEmpty(warning)}"
        class="toast align-items-center text-bg-warning border-0 show"
        role="alert"
      >
        <div class="d-flex">
          <div class="toast-body">
            <i class="feather-alert-triangle"></i>
            <span th:text="${warning}">Aviso!</span>
          </div>
          <button
            type="button"
            class="btn-close btn-close-white me-2 m-auto"
            data-bs-dismiss="toast"
          ></button>
        </div>
      </div>
    </div>
  </body>
</html>
